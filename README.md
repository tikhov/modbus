# Power Source Controller (prototype)

Прототип GUI-приложения для управления источником питания через Modbus (RTU/TCP).

## Что есть
- Экран выбора типа подключения (RTU / WiFi)
- Экран настроек с профилями: сохранить/обновить/выбрать профили
- Профили хранятся в SQLite (`profiles.db` по умолчанию)
- Заглушка главного экрана (будет дополнена после утверждения визуала)

## Дополнительные настройки
- `swap_iv` — обмен регистров тока и напряжения. Значение `1`/`True` включает
  принудительный обмен, `0`/`False` запрещает. Если параметр не задан,
  драйвер сравнивает величины и при необходимости меняет регистры автоматически.

## Установка
1. Создать venv:
   python -m venv .venv
   .venv\\Scripts\\activate   (Windows)
   source .venv/bin/activate  (Linux/Mac)

2. Установить зависимости:
   pip install -r requirements.txt

3. (опционально) задать путь БД через переменную окружения:
   export PC_DB_PATH=/путь/до/profiles.db
   или в Windows PowerShell:
   $env:PC_DB_PATH="C:\\path\\profiles.db"

4. Запустить:
   python main.py

## Где добавить иконки
Положи иконки в `assets/icons/` и используй их в коде (MainWindow, status bar) через `resources.ICONS_DIR`.

## Как работает сохранение профилей
- В выпадающем списке выбираешь существующий профиль или `-- Новый профиль --`.
- При нажатии `Сохранить настройки`:
  - Если выбран существующий профиль — он обновляется.
  - Если выбран `-- Новый профиль --` — появится диалог для ввода имени, после чего профиль создаётся.
